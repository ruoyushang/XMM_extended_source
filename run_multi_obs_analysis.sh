
#source_name='extragalactic'
#ID_list=()
#ID_list+=('0827241101')
#ID_list+=('0505460501') 
#ID_list+=('0804860301') 
#ID_list+=('0690900101') 
#ID_list+=('0803160301') 
#ID_list+=('0820560101') 
#ID_list+=('0827200401') 
#ID_list+=('0827200501') 
#ID_list+=('0827251001') 
#ID_list+=('0827251101') 

#source_name='3HWC_J1928_p178'
#ID_list=()
#ID_list+=('0902120101')
#ID_list+=('0503740101')
#ID_list+=('0830192001')
#ID_list+=('0406730101')
#ID_list+=('0762980101')
#ID_list+=('0742710301')
#ID_list+=('0822330301')
#ID_list+=('0861880101')
#ID_list+=('0841190101') # bright source
#ID_list+=('0851181701') # bright source
#ID_list+=('0724270101') # SNR with escaped CRs?
#ID_list+=('0724270201') # bright SNR
#ID_list+=('0742710401') # broken chip
#ID_list+=('0763240101') # strange ring patterns
#ID_list+=('0822330201') # strange ring patterns

#source_name='Cas_A'
#ID_list=()
#ID_list+=('0137550301') # no MOS2
#ID_list+=('0400210101') # Cas A Northern lobe
#ID_list+=('0412180101') # Cas A
#ID_list+=('0782961401') # 34.7 arcmin away

#source_name='skycoord_l0_b60'
#ID_list=()
#ID_list+=('0770580401')
#ID_list+=('0044740201')
#ID_list+=('0770580501')
#ID_list+=('0743900301')
#ID_list+=('0762610501')
#ID_list+=('0081340201')
#ID_list+=('0111281001')

source_name='PSR_J1928_p1746'
ID_list=()
#ID_list+=('0764820101_mos1' '0764820101_mos2')
#ID_list+=('0605370101_mos1' '0605370101_mos2')
#ID_list+=('0742710301_mos1' '0742710301_mos2')
#ID_list+=('0503740101_mos1' '0503740101_mos2')
#ID_list+=('0554690101_mos1' '0554690101_mos2')
#ID_list+=('0871190201_mos1' '0871190201_mos2')
#ID_list+=('0853980101_mos1' '0853980101_mos2')
#ID_list+=('0406730101_mos1' '0406730101_mos2') # 3HWC J1930+188
#ID_list+=('0830192001_mos1' '0830192001_mos2')
#ID_list+=('0504230201_mos1' '0504230201_mos2') # too much SPF
#ID_list+=('0841190101_mos1+0841190101_mos2') # bright source
ID_list+=('0406730101_mos1+0406730101_mos2') # 3HWC J1930+188
#ID_list+=('0902120101_mos1+0902120101_mos2') # source of interest

#source_name='MGRO_J1908_p06'
#ID_list=()
#ID_list+=('0553640701') # MGRO J1908+06
#ID_list+=('0553640201') # MGRO J1908+06
#ID_list+=('0553640801') # MGRO J1908+06
#ID_list+=('0553640101') # MGRO J1908+06
#ID_list+=('0822330301')
#ID_list+=('0784040201')
#ID_list+=('0840910801')
#ID_list+=('0605700201')
#ID_list+=('0742820101')
#ID_list+=('0084100401')
#ID_list+=('0651680501')
#ID_list+=('0084100501')
#ID_list+=('0851181701')
#ID_list+=('0724270101')
#ID_list+=('0722250201')
#ID_list+=('0692210301')
#ID_list+=('0830450101')
#ID_list+=('0506430101')

#source_name='MGRO_J2019_p37'
#ID_list=()
#ID_list+=('0212481201_mos1')
#ID_list+=('0692810501_mos1')
#ID_list+=('0670480501_mos1')
#ID_list+=('0782961201_mos1')
#ID_list+=('0304000201_mos1')
#ID_list+=('0510011401_mos1')
#ID_list+=('0670480401_mos1')
#ID_list+=('0880030501_mos1')
#ID_list+=('0206240801_mos1')
#ID_list+=('0600030201_mos1')
#ID_list+=('0692810301_mos1')
#ID_list+=('0206240201_mos1')
#ID_list+=('0206240701_mos1')
#ID_list+=('0692810401_mos1')
#ID_list+=('0692810601_mos1')
#ID_list+=('0723310201_mos1')
#ID_list+=('0720600101_mos1')
##
#ID_list+=('0212481201_mos2')
#ID_list+=('0692810501_mos2')
#ID_list+=('0670480501_mos2')
#ID_list+=('0782961201_mos2')
#ID_list+=('0304000201_mos2')
#ID_list+=('0510011401_mos2')
#ID_list+=('0670480401_mos2')
#ID_list+=('0880030501_mos2')
#ID_list+=('0206240801_mos2')
#ID_list+=('0600030201_mos2')
#ID_list+=('0692810301_mos2')
#ID_list+=('0206240201_mos2')
#ID_list+=('0206240701_mos2')
#ID_list+=('0692810401_mos2')
#ID_list+=('0692810601_mos2')
#ID_list+=('0723310201_mos2')
#ID_list+=('0720600101_mos2')
#
#ID_list+=('0744640101_mos1') # bright SNR
#ID_list+=('0744640101_mos2')
#ID_list+=('0795712301_mos1') # stray light
#ID_list+=('0795712301_mos2')
#ID_list+=('0206240401_mos1') # too much SPF
#ID_list+=('0206240401_mos2')
#ID_list+=('0721570101_mos1') # too much SPF
#ID_list+=('0721570101_mos2')
#ID_list+=('0674050101_mos1')
#ID_list+=('0674050101_mos2')

#ID_list+=('0552350101_mos1+0552350101_mos2+0652770101_mos1+0674050101_mos1+0674050101_mos2')

rm -r /Users/rshang/xmm_analysis/output_plots/'plot_'$source_name 
mkdir /Users/rshang/xmm_analysis/output_plots/'plot_'$source_name
echo ID_list = ${ID_list[@]}
job=0
for i in ${ID_list[@]}
do
    obs_ID=$i
    echo $job
    python3 multi_observation_analysis.py $source_name $obs_ID $job
    job=$((job+1))
done
